<?xml version="1.0" encoding="UTF-8"?>

<!-- 
QuizFun - A quiz game
Copyright (C) 2008

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE faces-config PUBLIC
    "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN"
    "http://java.sun.com/dtd/web-facesconfig_1_1.dtd">
<faces-config>
	<application>
		<view-handler>com.icesoft.faces.facelets.D2DFaceletViewHandler</view-handler>
		<variable-resolver>org.springframework.web.jsf.DelegatingVariableResolver</variable-resolver>
		<message-bundle>quizfun.view.resources.messages</message-bundle>
	</application>
	<!-- Manage Beans - Start -->
	<managed-bean>
		<managed-bean-name>serviceLocator</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.ServiceLocatorManagedBean</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
		<managed-property>
			<property-name>courseService</property-name>
			<value>#{courseService}</value>
		</managed-property>
		<managed-property>
			<property-name>moduleService</property-name>
			<value>#{moduleService}</value>
		</managed-property>
		<managed-property>
			<property-name>userService</property-name>
			<value>#{userService}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>renderMgr</managed-bean-name>
		<managed-bean-class>com.icesoft.faces.async.render.RenderManager</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for common purposes</description>
		<managed-bean-name>common</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.CommonManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for create course</description>
		<managed-bean-name>createCourse</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.CreateCourseManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for search course</description>
		<managed-bean-name>searchCourse</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.SearchCourseManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for modify course</description>
		<managed-bean-name>modifyCourse</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.ModifyCourseManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for create module</description>
		<managed-bean-name>createModule</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.CreateModuleManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for search module</description>
		<managed-bean-name>searchModule</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.SearchModuleManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for modify module</description>
		<managed-bean-name>modifyModule</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.ModifyModuleManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for register user</description>
		<managed-bean-name>registerUser</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.RegisterUserManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for create user</description>
		<managed-bean-name>createUser</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.CreateUserManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for search user</description>
		<managed-bean-name>searchUser</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.SearchUserManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Managed bean for modify user</description>
		<managed-bean-name>modifyUser</managed-bean-name>
		<managed-bean-class>quizfun.view.bean.ModifyUserManagedBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>serviceLocator</property-name>
			<value>#{serviceLocator}</value>
		</managed-property>
	</managed-bean>
	<!-- Manage Beans - End -->

	<!-- Navigation Rules - Start -->
	<navigation-rule>
		<navigation-case>
			<from-outcome>home</from-outcome>
			<to-view-id>/index.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>registerUser</from-outcome>
			<to-view-id>/pages/user/register.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>settings</from-outcome>
			<to-view-id>/pages/user/settings.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>createCourse</from-outcome>
			<to-view-id>/pages/course/create.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>searchCourse</from-outcome>
			<to-view-id>/pages/course/search.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>modifyCourse</from-outcome>
			<to-view-id>/pages/course/modify.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>createModule</from-outcome>
			<to-view-id>/pages/module/create.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>searchModule</from-outcome>
			<to-view-id>/pages/module/search.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>modifyModule</from-outcome>
			<to-view-id>/pages/module/modify.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>createUser</from-outcome>
			<to-view-id>/pages/user/create.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>searchUser</from-outcome>
			<to-view-id>/pages/user/search.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>modifyUser</from-outcome>
			<to-view-id>/pages/user/modify.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>createQuestion</from-outcome>
			<to-view-id>/pages/question/create.iface</to-view-id>
			<redirect />
		</navigation-case>
<!-- 		<navigation-case>
			<from-outcome>searchQuestion</from-outcome>
			<to-view-id>/pages/quesiton/search.iface</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>modifyQuestion</from-outcome>
			<to-view-id>/pages/question/modify.iface</to-view-id>
			<redirect />
		</navigation-case>	 -->
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/user/register.jspx</from-view-id>
		<navigation-case>
			<from-outcome>back</from-outcome>
			<to-view-id>/index.iface</to-view-id>
			<redirect/>
		</navigation-case>
	</navigation-rule>
</faces-config>